# مسئله دو

## ویژگی
ویژگی (feature) زیر را که در قالب user story بیان شده، در نظر  بگیرید:

> **به عنوان** مدیر کلینیک تخصصی  
**می‌خواهم** قرارهای بیماران را با بررسی وضعیت بیمه، تخصص پزشک، و زمان‌های موجود مدیریت کنم  
**تا** از تداخل برنامه‌ها جلوگیری شود و رضایت بیماران حداکثر شود  


## قوانین کسب‌و‌کار

از جانب کسب‌و‌کار، تعدادی قانون (business rule) برای تعیین وضعیت نوبت در نظر گرفته می‌شود:

0. **حضور پزشک**
   - اگر در تاریخ خواسته شده پزشک **حضور نداشته** باشد، نوبت لغو می‌شود.  

1. **بیمار اورژانسی**  
   - اگر نوع بیمار **"اورژانسی"** باشد، نوبت **بدون توجه به وضعیت بیمه** تأیید می‌شود.  

2. **بیمار عادی**  
   - اگر نوع بیمار **عادی باشد** و **بیمه "تأییدشده"** باشد، نوبت تأیید می‌شود.  

3. **بیمه رد شده**  
   - اگر وضعیت بیمه **"ردشده"** باشد، نوبت در حالت لغو قرار می‌گیرد.  


## مثال

```gherkin
Examples:  
    | patientType | insuranceStatus | doctorName  | department   | availableUntil | appointmentTime       | expectedResult |  
    | عادی        | تاییدشده        | دکتر رضوی   | قلب          | 2023-12-31     | 2023-10-10 10:00      | تایید          |  
    | اورژانسی    | ردشده    | دکتر حسینی  | اطفال        | 2023-11-15     | 2023-11-20 09:30      | لغو            |  
    | عادی        | ردشده           | دکتر محمدی  | ارتوپدی      | 2024-01-10     | 2023-12-25 14:00      | لغو          |  
```
